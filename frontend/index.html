<html>
  <head>
    <title>My first Three.js app</title>
    <style>
      body {
        margin: 0px;
        padding: 0px;
      }

      .threejsContainer {
        float:    left;
        position: relative;
        width:    50%;
        height:   100%;
        margin:   0px;
        padding:  0px;
      }
    </style>
  </head>
  <body>

    <div id="ruby-display" class="threejsContainer">
    </div>

    <script type="text/javascript" src="js/three.r71.js"></script>
    <script type="text/javascript" src="js/stats.js"></script>
    <script type="text/javascript" src="js/DisplayRuby.js"></script>
    <script type="text/javascript" src="js/ConvexGeometry.js"></script>
    <script type="text/javascript" src="js/ThreeBSP.js"></script>
    <script type="text/javascript" src="js/SubdivisionModifier.js"></script>
    <script type="text/javascript" src="js/dat.gui.js"></script>

    <script>
      var div         = document.getElementById("ruby-display")
      var width       = div.offsetWidth
      var height      = div.offsetHeight
      var displayRuby = new DisplayRuby({width: width, height: height})
      div.appendChild(displayRuby.domElement())

      var renderRuby = function() {
        if(div.offsetWidth  !== width)  displayRuby.updateWidth(width=div.offsetWidth)
        if(div.offsetHeight !== height) displayRuby.updateHeight(height=div.offsetHeight)

        displayRuby.update(div.offsetWidth, div.offsetHeight)
        requestAnimationFrame(renderRuby)
      }

      renderRuby()
    </script>
  </body>
</html>
